Catspeak is a simple imperative language with a vaguely similar syntax to GML.
As an example, consider the following program written in GML to calculate the
factorial of a number `n`:
```
// GML CODE
function factorial(n) {
    var m = 1;
    if (n > 1) {
        m = n * factorial(n - 1);
    }
    return m;
}

factorial(5); // output: 120
```
NOTE: This example is intentionally verbose in order to showcase: variables,
      function declarations, identifiers, "if" statements, function calls,
      assignment statements, return statements, and comments.

Below is the same program written in Catspeak:
```
-- CATSPEAK CODE
factorial = fun(n) {
    let m = 1
    if (n > 1) {
        m = n * factorial(n - 1)
    }
    return m
}

factorial(5) -- output: 120
```
There are some immediately obvious differences here, such as the `m` variable
being declared using `let` instead of `var`, `fun` instead of `function`, and
comments using `--` instead of `//`. All of these differences (and more) are
described in the [Lexical Grammar] section.

# Lexical Grammar

Catspeak source code is a sequence of ASCII characters. This unfortunately
means that Unicode support is not guaranteed to work, but results in a faster
compiler.

This sequence of characters first needs to be transformed into larger groups
of characters called "tokens". The following sections will cover what each
of these tokens are composed of.

## Whitespace

For the most part, Catspeak is whitespace insensitive. There are exceptions
to this for [Identifiers] and [Automatic Semicolon Insertion], but otherwise
Catspeak ignores the following characters:

 - Character tabulation '\t' (code point U+0009)
 - Line feed            '\n' (code point U+000A)
 - Line tabulation      '\v' (code point U+000B)
 - Form feed            '\f' (code point U+000C)
 - Carriage return      '\r' (code point U+000D)
 - Space                     (code point U+0020)
 - Next Line                 (code point U+0085)

## Comments

The only way to add a comment in Catspeak is to use the special `--` symbol.
This will ignore all of the characters after it until a new line is reached.
For example:
```
-- this is a Catspeak comment!
```

NOTE: Unlike GML, Catspeak does not support multi-line comments.
      Use multiple comments instead.

NOTE: Because Catspeak allows for custom operators, you **must only** use
      `--` and not something like `---` or `--//`; otherwise it will be
      considered a custom operator identifier. For more information, see the
      [Operator Identifiers] section.

## Identifiers

Identifiers are mainly used for variable names in Catspeak. The most common
kind of identifier is the alphanumeric identifier. These identifiers start
with a letter and are followed by a sequence of other letters, numbers,
underscores (_), or apostrophes (').

An example of an identifier which uses all of these is `Can't_count_to_10`.
The following identifiers are invalid:
```
_invalid
1Invalid
'INVALID'
```

### Raw Identifiers

Raw identifiers are a special type of identifier which starts and ends
with the backtick symbol:
```
let `1st-of-march` = "2022-03-01"
```

You can use any valid identifier character between the backticks, in
whatever order you decide. This includes [Operator Identifiers].

### Operator Identifiers

Operators in Catspeak aren't special, they are just a kind of identifier
which use symbols instead of letters or numbers. Below is a list of valid
characters which can be used as operators, sorted by highest precedence
to lowest precedence.

 highest precedence (7): `#`, `.`, `@`
                    (6): `%`, `\`
          .         (5): `*`, `/`
          .         (4): `+`, `-`
          .         (3): `!`, `<`, `=`, `>`, `?`, `~`
          .         (2): `&`
                    (1): `^`, `|`
  lowest precedence (0): `$`, `:`, `;`

Operators on the same line share the same precedence.

You can combine as many, or as few, of these symbols together to create
your very own operator. Here are a few: `>>=`, `><>`, `;~;`, `>*^-^*<`.
The precedence of the new operator will be the same as its first
character. So the `>>=` operator will have the same precedence as `>=`.

## Keywords

Catspeak reserves the following identifiers as keywords:

 - `--`       see [Comments]
 - `=`        see [Let Statement] and [Assignment Expression]
 - `:`        see [Struct Expression]
 - `;`        see [Automatic Semicolon Insertion]
 - `.`        see [Accessor Expression]
 - `...`      see [Automatic Semicolon Insertion]
 - `do`       see [Block Expression]
 - `if`       see [If Expression]
 - `else`     see [If Expression]
 - `while`    see [Loop Expression]
 - `for`
 - `let`      see [Let Statement]
 - `fun`      see [Function Expression]
 - `break`    see [Break Expression]
 - `continue` see [Continue Expression]
 - `return`   see [Return Expression]

## Literals

A literal in Catspeak is either a [Numeric Literal] or [String Literal].

### Numeric Literals

Numeric literals are a sequence of ASCII digits, optionally separated by
a single decimal point:
```
1234567890
3.1415
```

### String Literals

There are two types of string literal in Catspeak. The most common is
a sequence of characters starting and ending in double quotes ("):
```
let hi = "hello world"
```
This type of string allows the following escape sequences to be used:

 - \" Quotation mark
 - \  Escape new line
 - \\ Backslash
 - \t Character tabulation
 - \n Line feed
 - \v Line tabulation
 - \f Form feed
 - \r Carriage return

The other type of string is the **raw string**. A raw string is prefixed
by the `@` character, and does not interpret any of the previously
mentioned escape sequences:
```
let hi_again = @"\hello\"
```

## Automatic Semicolon Insertion

Automatic semicolon insertion is a process used to help Catspeak understand
when a statement has ended so that another can begin. A semicolon or new
line will be expected after the [Let Statement] and [Expression Statement].

All new lines are considered semicolons unless it is preceeded by the
`...` operator, or one of the following tokens:

 - Parens: `(`, `[`, `{`
 - Built-in operators: `.`, `:`, `,`, `=`
 - Keywords: `do`, `if`, `else`, `while`, `for`, `let`, `fun`
 - User-defined operators, see [Operator Identifiers]

This means that in order to write Catspeak code in the Allman style, you
must use `...` to tell Catspeak that you are continuing the line:
```
while (x == y) ...
{
    something()
}
```
This is not necessary for styles where the first `{` appears on the same
line:
```
while (x == y) {
    something()
}
```

# Statements

TODO

## Let Statement

TODO

## Expression Statement

TODO

# Expressions

TODO

## Terminal Expression

TODO

## Operator Expression

TODO [Operators]

## Assignment Expression

TODO

## Grouped Expression

TODO

## Array Expression

TODO

## Struct Expression

TODO

## Call Expression

TODO

## Accessor Expression

TODO

## Block Expression

TODO

## If Expression

TODO

## Loop Expression

TODO

## Continue Expression

TODO

## Break Expression

TODO

## Return Expression

TODO